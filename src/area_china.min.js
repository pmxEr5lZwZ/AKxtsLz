var path="{{ asset('area_china.json') }}";var default_index="00";var default_value="- Unknow -";var parent_div="div";var province=document.getElementById('province');var city=document.getElementById('city');var district=document.getElementById('district');var option_list={};city.style.display="none";district.style.display="none";$.getJSON(path,function(data){$.each(data,function(index,value){CreateOptionList(index,value)});showOption(province);$(province).change(function(){if(province.value===default_index){closeList(city);closeList(district);return}getCity(province.value)});$(city).change(function(){if(city.value===default_index){closeList(district);return}getDistrict(province.value,city.value)});function getCity(province_id){if(Object.keys(data[province_id]).length===1){closeList(city);closeList(district)}else if(Object.keys(data[province_id]).length>1&&Object.keys(data[province_id]).length<=3){closeList(city);getNewList(district);$.each(data[province_id],function(index,value){if(typeof(data[province_id][index])=="object"){$.each(data[province_id][index],function(index_2,value_2){CreateOptionList(index_2,value_2)})}});showOption(district)}else if(Object.keys(data[province_id]).length>3){closeList(district);getNewList(city);$.each(data[province_id],function(index,value){if(typeof(data[province_id][index])=="object"){CreateOptionList(index,value)}});showOption(city)}else{alert('error')}}function getDistrict(province_id,city_id){getNewList(district);$.each(data[province_id][city_id],function(index,value){if(typeof(data[province_id][city_id][index])=="object"){CreateOptionList(index,value)}});showOption(district)}});function getNewList(obj){if(parent_div!==false){$(obj).parents(parent_div).show()}obj.style.display="";initList(obj)}function closeList(obj){if(parent_div!==false){$(obj).parent(parent_div).hide()}obj.style.display="none";initList(obj)}function initList(obj){$(obj).empty();$(obj).append("<option value='"+default_index+"'>"+default_value+"</option>")}function CreateOptionList(index,value){if(index.substr(0,1)==="0"){var key=index.substr(1);option_list[key]="<option value='"+index+"'>"+value.name+"</option>"}else{option_list[index]="<option value='"+index+"'>"+value.name+"</option>"}}function showOption(obj){$.each(option_list,function(index,value){$(obj).append(value)});option_list=[]}